<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="application-name" content="转拽专 转">
    <meta name="apple-mobile-web-app-title" content="转拽专 转">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no, user-scalable=no">
    <meta name="description" content="砖拽 砖转 注拽 拽 拽砖专 转专转 专砖转. 砖转, 专砖转, 驻专住 爪专转  转 砖转.">
    <meta name="keywords" content="砖拽, 砖转 注拽, 拽驻 砖转, 转拽砖专转, 驻专住">

    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'></text></svg>">

    <title>转拽专 - 专住 转 3.6</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;700&display=swap');
        
        :root {
            --primary-color: #667eea; --secondary-color: #764ba2; --accent-color: #ed8936;
            --success-color: #48bb78; --danger-color: #fc8181; --text-dark: #2d3748;
            --text-light: #4a5568; --background-light: rgba(255, 255, 255, 0.98); --border-light: #e2e8f0;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; user-select: none; }
        html, body { height: 100%; overflow: hidden; position: fixed; width: 100%; }

        body {
            font-family: 'Heebo', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 25%, #0f3460 50%, #16213e 75%, #1a1a2e 100%);
            background-attachment: fixed;
            display: flex; justify-content: center; align-items: center;
        }

        /* --- 住 住 注 --- */
        .loading-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100vh; background: linear-gradient(45deg, #1a1a2e, #16213e, #0f3460, #533483, #764ba2); background-size: 400% 400%; animation: gradientFlow 10s ease-in-out infinite; display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 10000; }
        @keyframes gradientFlow { 0%, 100% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } }
        .loading-logo { font-size: 6em; margin-bottom: 20px; animation: logoMagic 4s ease-in-out infinite; filter: drop-shadow(0 0 30px rgba(255, 255, 255, 0.7)); }
        @keyframes logoMagic { 0%, 100% { transform: translateY(-10px) scale(1); } 50% { transform: translateY(10px) scale(1.1); } }
        .loading-title { color: white; font-size: 3em; font-weight: 700; margin-bottom: 10px; }
        .loading-subtitle { color: rgba(255, 255, 255, 0.9); font-size: 1.3em; margin-bottom: 40px; }
        .loading-progress-container { display: flex; align-items: center; gap: 20px; justify-content: center; }
        .loading-progress { width: min(400px, 80vw); height: 12px; background: rgba(255, 255, 255, 0.15); border-radius: 15px; overflow: hidden; }
        .loading-bar { height: 100%; background: linear-gradient(90deg, #667eea, #764ba2, #f093fb); border-radius: 15px; width: 0%; transition: width 0.4s ease-out; }
        .loading-percentage { color: white; font-size: 1.6em; font-weight: 700; min-width: 60px; }
        .loading-screen.fade-out { animation: loadingDisappear 1s forwards; }
        @keyframes loadingDisappear { to { opacity: 0; transform: scale(1.1); filter: blur(5px); } }

        /* --- 住 砖拽  --- */
        .container { background: var(--background-light); backdrop-filter: blur(20px); border-radius: 25px; padding: 40px 30px; box-shadow: 0 30px 60px rgba(0, 0, 0, 0.3); max-width: 900px; width: 95%; text-align: center; border: 1px solid rgba(255, 255, 255, 0.2); opacity: 0; max-height: 90vh; overflow-y: auto; }
        @keyframes containerFadeIn { to { opacity: 1; } }
        h1 { background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 20px; font-size: 2.4em; }
        h2 { color: var(--text-dark); font-size: 1.8em; margin-bottom: 15px; }
        .screen { display: none; }
        .screen.active { display: block; animation: screenFadeIn 0.5s ease-out; }
        @keyframes screenFadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .input-group { margin-bottom: 20px; text-align: right; }
        .input-group label { display: block; margin-bottom: 8px; font-size: 1.2em; font-weight: 500; }
        .input-group input { width: 100%; padding: 15px; border: 2px solid var(--border-light); border-radius: 15px; font-size: 1.2em; text-align: right; }
        .main-btn { background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%); color: white; border: none; padding: 18px 40px; font-size: 1.4em; font-weight: 600; border-radius: 60px; cursor: pointer; transition: all 0.4s ease; box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3); margin-top: 25px; }
        .secondary-btn { background: linear-gradient(135deg, var(--accent-color), #dd6b20); color: white; border: none; padding: 12px 25px; font-size: 1.1em; border-radius: 25px; cursor: pointer; }
        .current-player-display { padding: 20px; border-radius: 15px; margin-bottom: 25px; border: 2px solid; }
        .current-player-display.husband { background: linear-gradient(135deg, #d3e4ff, #a7c7fa); border-color: #6a9cf2; }
        .current-player-display.wife { background: linear-gradient(135deg, #fed7d7, #feb2b2); border-color: var(--danger-color); }
        .result-container { margin-top: 30px; padding: 30px; background: #f7fafc; border-radius: 20px; min-height: 120px; display: flex; align-items: center; justify-content: center; }
        .question-text { font-size: 1.5em; line-height: 1.6; color: var(--text-dark); text-align: right; }
        .emotion-highlight { color: var(--primary-color); font-weight: 700; background: linear-gradient(120deg, #a8edea, #fed6e3); padding: 4px 12px; border-radius: 8px; }
        #change-buttons, #difficulty-container { display: none; margin-top: 20px; gap: 15px; justify-content: center; flex-wrap: wrap;}
        .scoring-container { margin: 30px 0; }
        .scoring-container label { font-size: 1.1em; font-weight: 500; margin-bottom: 15px; display: block; }
        .scoring-input-wrapper { display: flex; align-items: center; gap: 20px; }
        .scoring-input-wrapper input[type="range"] { flex-grow: 1; cursor: pointer; }
        .score-display { font-weight: 700; color: var(--primary-color); font-size: 1.8em; min-width: 50px; text-align: center; background: #edf2f7; padding: 5px 10px; border-radius: 8px; border: 2px solid var(--border-light); }
        .instructions-text { text-align: right; line-height: 1.8; font-size: 1.1em; margin-bottom: 25px; color: var(--text-dark); }
    </style>
</head>
<body>
    <div class="loading-screen" id="loading-screen">
        <div class="loading-logo"></div>
        <div class="loading-title">转拽专</div>
        <div class="loading-subtitle"> 转 转 注转...</div>
        <div class="loading-progress-container">
            <div class="loading-progress">
                <div class="loading-bar" id="loading-bar"></div>
            </div>
            <div class="loading-percentage" id="loading-percentage">0%</div>
        </div>
    </div>

    <div class="container" id="main-container" style="opacity:0;">
        <!-- 砖 1: 住 住专 -->
        <div id="instructions-screen" class="screen active">
            <h1>专  '转拽专' - 砖拽  拽专</h1>
            <h2 style="font-size: 1.5em;"> 砖拽 注?</h2>
            <p class="instructions-text">
               专转 砖拽  注专专 砖 注拽 拽专. 
             <br><br>
              转专, 砖拽 爪 砖 注 专砖 住. 砖 注 转 拽转 驻转 砖 砖转祝.
            <br><br>
              转专 转拽砖 注转 注 砖 转 驻转转. 拽 转 ,   转砖转 转   转. 专  专 , 砖转祝 转 砖转, 专转 转砖转 砖.
            </p>
            <h2 style="font-size: 1.8em;">转!</h2>
            <button class="main-btn" onclick="proceedToSetup()"> 转!</button>
        </div>

        <!-- 砖 2: 转 砖转 -->
        <div id="setup-screen" class="screen">
            <h1> 砖专</h1>
            <div class="input-group">
                <label for="husband-name">注 拽专:</label>
                <input type="text" id="husband-name" placeholder="住 转 砖">
            </div>
            <div class="input-group">
                <label for="wife-name">砖 拽专:</label>
                <input type="text" id="wife-name" placeholder="住 转 砖">
            </div>
            <button class="main-btn" onclick="proceedToHusbandPrize()">砖 </button>
        </div>

        <!-- 砖 3.1: 驻专住 注 -->
        <div id="husband-prize-screen" class="screen">
            <h1 id="husband-prize-title"> 驻专住 砖</h1>
            <h3>专砖 住  转 砖转 专爪 拽. 砖转  转专...</h3>
            <div class="input-group">
                <label for="husband-prize">转 砖 专爪:</label>
                <input type="text" id="husband-prize" placeholder=": 住' 砖 10 拽转">
            </div>
            <button class="main-btn" onclick="proceedToWifePrize()">住转? 注砖 转专 注转</button>
        </div>

        <!-- 砖 3.2: 驻专住 砖 -->
        <div id="wife-prize-screen" class="screen">
            <h1 id="wife-prize-title"> 驻专住 砖</h1>
            <h3>注砖 转专, 专砖 住  转 转专爪 拽.</h3>
            <div class="input-group">
                <label for="wife-prize">转 砖 专爪:</label>
                <input type="text" id="wife-prize" placeholder=": 驻拽 转拽 砖 转">
            </div>
            <button class="main-btn" onclick="startGame()">砖专转 转 砖拽! </button>
        </div>

        <!-- 砖 4: 砖拽 -->
        <div id="game-screen" class="screen">
            <div class="current-player-display" id="current-player-display"><h2 id="turn-indicator"></h2><p id="turn-prompt"></p></div>
            <div class="result-container"><div id="result" class="placeholder-text">爪 注 驻转专...</div></div>
            <div style="margin-top: 25px;"><button class="main-btn" id="draw-btn" onclick="drawPair()"></button></div>
            <div id="difficulty-container"><button class="secondary-btn" onclick="showChangeOptions()"> ... 拽砖  注转 注 ... 专爪 祝 砖</button></div>
            <div id="change-buttons"><button class="secondary-btn" onclick="changeQuestion()"> 砖 专转 注 专砖 </button><button class="secondary-btn" onclick="changeEmotion()"> 转 砖 注 专砖 专</button></div>
            <button class="main-btn" id="finish-turn-btn" onclick="finishTurn()" style="display: none; background: linear-gradient(135deg, var(--success-color), #2f855a);"> 砖转驻转!</button>
        </div>

        <!-- 砖 5: 住 拽 -->
        <div id="scoring-screen" class="screen">
            <h2 id="scoring-title"></h2>
            <div class="scoring-container">
                <label id="honesty-label" for="honesty-score"></label>
                <div class="scoring-input-wrapper">
                    <input type="range" id="honesty-score" min="1" max="10" value="5" oninput="updateScoreDisplay('honesty-score', 'honesty-display')">
                    <span id="honesty-display" class="score-display">5</span>
                </div>
            </div>
            <div class="scoring-container">
                <label id="insight-label" for="insight-score"></label>
                 <div class="scoring-input-wrapper">
                    <input type="range" id="insight-score" min="1" max="10" value="5" oninput="updateScoreDisplay('insight-score', 'insight-display')">
                    <span id="insight-display" class="score-display">5</span>
                </div>
            </div>
            <button class="main-btn" onclick="submitScore()">注专 转 转专</button>
        </div>

        <!-- 砖 6: 住 住 -->
        <div id="end-screen" class="screen">
             <h1> 住 砖拽 </h1>
            <div id="final-scores"></div>
            <div id="winner-announcement"></div>
            <div id="loser-prize-task" style="background-color: #fff9e6; padding: 15px; border-radius: 10px; margin-top:20px;"></div>
            <div id="winner-prize-task" style="background-color: #f0fff4; padding: 15px; border-radius: 10px; margin-top:15px;"></div>
            <p style="margin-top: 30px; font-size: 1.4em; font-style: italic; color: var(--secondary-color);"> ! 转 转转  驻转转 拽砖.</p>
        </div>
    </div>

    <script>
        // --- 专 注 ---
        // 拽爪转 专砖转 (转 砖 )
        const emotionGroup1 = ["砖", "", "", "转拽", "", "砖转", "专注", "住驻拽", "砖", "砖转"];
        const emotionGroup2 = ["转住", "砖", "拽", "", "驻", "注爪", "转", "专", "", "住专 ", "注住", "专", "砖", "砖"];
        const emotionGroup3 = ["转专砖转", "拽", "专转 转", "砖转转", "转砖拽", "注注", "注爪转", "转驻注转", ""];
        const allEmotions = [...emotionGroup1, ...emotionGroup2, ...emotionGroup3];

        // 专 砖转 专
        const questionPoolA_male = ["转 专砖转 专 ___?", "住驻专 注 拽专 转 砖 专砖转 ___.", "转专 住爪 砖 驻转注转 注爪 砖 ___ 砖专砖转.", " 专  专砖 ___ 驻注 专?", " 转  注砖转 砖转 专砖 ___?", " 转 专 驻 抓 砖转 专砖 ___?", " 注专  专砖 砖转 专砖 ___?", "转 专砖 注爪 专砖 ___?", " 转 专砖  专 注 ___? 注    ?", " 砖  住 砖注专专 爪 ___?", " 转 专爪 砖专 注 注 砖转 专砖 ___?", " 转 注 注爪 专  砖 ___?"];
        const questionPoolB_male = [...questionPoolA_male, " 转拽驻  砖 转  ___?", " 驻 ___  拽 砖转 砖?", "注   砖 转 专砖  ___?", " 注  驻注转 转 专砖  专 ___?", " 拽 专  转砖 砖 ___?", " 专 注专转  转 注 ___?", " 转 转 砖砖 专 住 专砖 ___?", " 转 专砖 砖 砖转 专砖 ___?", " 转  砖 转 专爪 转 专转 注 ___?", " 专 转 注砖   专砖 ___?", " 转 专爪 砖  专注 砖 ___?", " 转 转砖 ___?", "注  拽砖  转 砖转 专砖 ___?"];
        const questionPoolC_male = [...questionPoolA_male, " 转拽驻  砖 转  ___?", " 驻 ___  拽 砖转 砖?", "注   砖 转 专砖  ___?", " 注  驻注转 转 专砖  专 ___?", " 拽 专  转砖 砖 ___?"];
        
        // 专 砖转 砖
        const questionPoolA_female = ["转 专砖转 专 ___?", "住驻专 注 拽专 转 砖 专砖转 ___.", "转专 住爪 砖 驻转注转 注爪 砖 ___ 砖专砖转.", " 专  专砖 ___ 驻注 专?", " 转  注砖转 砖转 专砖 ___?", " 转 专转 驻 抓 砖转 专砖 ___?", " 注专  专砖 砖转 专砖 ___?", "转 专砖 注爪 专砖 ___?", " 转 专砖  专 注 ___? 注    ?", " 砖  住 砖注专专 爪 ___?", " 转 专爪 砖专 注 注 砖转 专砖 ___?", " 转 注 注爪 专  砖 ___?"];
        const questionPoolB_female = [...questionPoolA_female, " 转拽驻  砖 转  ___?", " 驻 ___  拽 砖转 砖?", "注   砖 转 专砖  ___?", " 注  驻注转 转 专砖  专 ___?", " 拽 专  转砖 砖 ___?", " 专 注专转  转 注 ___?", " 转 转转 砖砖 专 住 专砖 ___?", " 转 专砖 砖 砖转 专砖 ___?", " 转  砖 转 专爪 转 专转 注 ___?", " 专 转 注砖   专砖 ___?", " 转 专爪 砖  专注 砖 ___?", " 转 转砖转 ___?", "注  拽砖  转 砖转 专砖 ___?"];
        const questionPoolC_female = [...questionPoolA_female, " 转拽驻  砖 转  ___?", " 驻 ___  拽 砖转 砖?", "注   砖 转 专砖  ___?", " 注  驻注转 转 专砖  专 ___?", " 拽 专  转砖 砖 ___?"];

        // --- 砖转 砖拽  ---
        let husband = {}, wife = {}, currentPlayer = 'husband', currentRound = 1, maxRounds = 10;
        let currentQuestion, currentEmotion, currentCategory;

        // --- 驻拽爪转  ---
        function switchScreen(id) { document.querySelectorAll('.screen').forEach(s => s.classList.remove('active')); document.getElementById(id).classList.add('active'); }
        function proceedToSetup() { switchScreen('setup-screen'); }
        function proceedToHusbandPrize() { husband.name = document.getElementById('husband-name').value.trim(); wife.name = document.getElementById('wife-name').value.trim(); if (!husband.name || !wife.name) { alert('砖  转 砖 砖转.'); return; } document.getElementById('husband-prize-title').innerText = ` 驻专住 砖, ${husband.name}`; switchScreen('husband-prize-screen'); }
        function proceedToWifePrize() { husband.prize = document.getElementById('husband-prize').value.trim(); if (!husband.prize) { alert('爪专 专砖 转 :)'); return; } document.getElementById('wife-prize-title').innerText = ` 驻专住 砖, ${wife.name}`; switchScreen('wife-prize-screen'); }
        function startGame() { wife.prize = document.getElementById('wife-prize').value.trim(); if (!wife.prize) { alert('爪专 专砖 转 :)'); return; } husband.score = 0; wife.score = 0; switchScreen('game-screen'); resetTurn(); }
        function resetTurn() { updateGenderedText(); document.getElementById('result').innerHTML = `<div class="placeholder-text">爪 注 驻转专...</div>`; ['draw-btn','difficulty-container','change-buttons','finish-turn-btn'].forEach(id => { document.getElementById(id).style.display = id === 'draw-btn' ? 'inline-block' : 'none'; }); }
        
        function updateGenderedText() { 
            const p = (currentPlayer === 'husband') ? husband : wife; 
            document.getElementById('turn-indicator').innerText = `住 ${Math.ceil(currentRound/2)}/5`; 
            document.getElementById('current-player-display').className = `current-player-display ${currentPlayer}`; 
            if(currentPlayer === 'husband'){ 
                document.getElementById('turn-prompt').innerText = `转专 砖 ${p.name} 砖转祝`; 
                document.getElementById('draw-btn').innerText = '  专 注...'; 
            } else { 
                document.getElementById('turn-prompt').innerText = `转专 砖 ${p.name} 砖转祝`; 
                document.getElementById('draw-btn').innerText = '  专 注...'; 
            }
        }
        
        // --- 拽转 砖拽 注转 ---
        function drawPair() {
            const btn = document.getElementById('draw-btn');
            btn.disabled = true;
            document.getElementById('result').innerHTML = '专  砖 注专专转 砖 砖...';
            
            setTimeout(() => {
                currentEmotion = allEmotions[Math.floor(Math.random() * allEmotions.length)];

                //  拽专转 专砖
                if (emotionGroup1.includes(currentEmotion)) currentCategory = 'A';
                else if (emotionGroup2.includes(currentEmotion)) currentCategory = 'B';
                else currentCategory = 'C';

                // 专 专 砖转 驻  拽专
                const isMale = currentPlayer === 'husband';
                let questionPool;
                if (currentCategory === 'A') questionPool = isMale ? questionPoolA_male : questionPoolA_female;
                else if (currentCategory === 'B') questionPool = isMale ? questionPoolB_male : questionPoolB_female;
                else questionPool = isMale ? questionPoolC_male : questionPoolC_female;
                
                currentQuestion = questionPool[Math.floor(Math.random() * questionPool.length)];

                updateDisplay();
                btn.style.display = 'none';
                btn.disabled = false;
                document.getElementById('finish-turn-btn').style.display = 'inline-block';
                document.getElementById('difficulty-container').style.display = 'block';
            }, 1200);
        }

        function updateDisplay() {
            const formattedQuestion = currentQuestion.replace(/___/g, `<span class="emotion-highlight">${currentEmotion}</span>`);
            document.getElementById('result').innerHTML = `<div class="question-text">${formattedQuestion}</div>`;
            hideChangeOptions();
        }

        function showChangeOptions() { document.getElementById('difficulty-container').style.display = 'none'; document.getElementById('change-buttons').style.display = 'flex'; }
        function hideChangeOptions() { document.getElementById('difficulty-container').style.display = 'block'; document.getElementById('change-buttons').style.display = 'none'; }
        
        function changeQuestion() {
            const isMale = currentPlayer === 'husband';
            let questionPool;
            if (currentCategory === 'A') questionPool = isMale ? questionPoolA_male : questionPoolA_female;
            else if (currentCategory === 'B') questionPool = isMale ? questionPoolB_male : questionPoolB_female;
            else questionPool = isMale ? questionPoolC_male : questionPoolC_female;
            
            currentQuestion = questionPool[Math.floor(Math.random() * questionPool.length)];
            updateDisplay();
        }

        function changeEmotion() {
            let emotionPool;
            if (currentCategory === 'A') emotionPool = emotionGroup1;
            else if (currentCategory === 'B') emotionPool = emotionGroup2;
            else emotionPool = emotionGroup3;
            
            currentEmotion = emotionPool[Math.floor(Math.random() * emotionPool.length)];
            updateDisplay();
        }
        
        function finishTurn() {
            const answeringPlayer = (currentPlayer === 'husband') ? husband : wife;
            const scoringPlayer = (currentPlayer === 'husband') ? wife : husband;
            document.getElementById('scoring-title').innerText =  `${scoringPlayer.name}, 转专 转转 爪`;
            const isMaleAnswering = currentPlayer === 'husband';document.getElementById('honesty-label').innerText = ` 专砖转 砖${answeringPlayer.name} ${isMaleAnswering ? '  (砖 转)' : '转 '}? (1-10)`;
            document.getElementById('insight-label').innerText = ` 转砖 注专  专 转${isMaleAnswering ? '' : ''} 转专 ? (1-10)`;
            document.getElementById('honesty-score').value = 5;
            document.getElementById('insight-score').value = 5;
            updateScoreDisplay('honesty-score', 'honesty-display');
            updateScoreDisplay('insight-score', 'insight-display');
            switchScreen('scoring-screen');
        }

        function updateScoreDisplay(sliderId, displayId) { document.getElementById(displayId).innerText = document.getElementById(sliderId).value; }

        function submitScore() { 
            const score = parseInt(document.getElementById('honesty-score').value) + parseInt(document.getElementById('insight-score').value); 
            if (currentPlayer === 'husband') husband.score += score; 
            else wife.score += score; 
            currentRound++; 
            if (currentRound > maxRounds) endGame(); 
            else { currentPlayer = (currentPlayer === 'husband') ? 'wife' : 'husband'; resetTurn(); switchScreen('game-screen'); } 
        }

        function endGame() {
            const finalScoresEl = document.getElementById('final-scores');
            const winnerAnnouncementEl = document.getElementById('winner-announcement');
            const loserPrizeEl = document.getElementById('loser-prize-task');
            const winnerPrizeEl = document.getElementById('winner-prize-task');

            finalScoresEl.innerHTML = `<h2><strong>${husband.name}:</strong> ${husband.score} 拽' | <strong>${wife.name}:</strong> ${wife.score} 拽'</h2>`;
            loserPrizeEl.innerHTML = '';
            winnerPrizeEl.innerHTML = '';

            let winner, loser;
            if (husband.score > wife.score) {
                winner = husband;
                loser = wife;
                winnerAnnouncementEl.innerHTML = `<h3> , <span style="color:var(--success-color);font-weight:bold;">${winner.name}</span>, 爪转!</h3>`;
                loserPrizeEl.innerHTML = `<p>${loser.name}, 注  注拽 ${winner.name} 转 驻专住: <strong>${winner.prize}</strong></p>`;
                winnerPrizeEl.innerHTML = `<p>... ${winner.name}, 注砖 转专 驻转注! <br> 注拽 ${loser.name} 转 驻专住 砖拽砖, <strong>${loser.prize}</strong>, 住转  转  わ.</p>`;
            } else if (wife.score > husband.score) {
                winner = wife;
                loser = husband;
                winnerAnnouncementEl.innerHTML = `<h3> , <span style="color:var(--success-color);font-weight:bold;">${winner.name}</span>, 爪转!</h3>`;
                loserPrizeEl.innerHTML = `<p>${loser.name}, 注  注拽 ${winner.name} 转 驻专住: <strong>${winner.prize}</strong></p>`;
                winnerPrizeEl.innerHTML = `<p>... ${winner.name}, 注砖 转专 驻转注! <br> 注拽 ${loser.name} 转 驻专住 砖拽砖, <strong>${loser.prize}</strong>, 住转  转  わ.</p>`;
            } else {
                winnerAnnouncementEl.innerHTML = `<h3>转拽! 砖拽 , 砖 爪转! コ</h3>`;
                loserPrizeEl.innerHTML = `<p>  注拽 砖 转 驻专住 砖专. <br>${husband.name}, 注拽 ${wife.name} 转 驻专住: <strong>${wife.prize}</strong></p>`;
                winnerPrizeEl.innerHTML = `<p>${wife.name}, 注拽 ${husband.name} 转 驻专住: <strong>${husband.prize}</strong></p>`;
            }
            switchScreen('end-screen');
        }

        // --- 拽转 住 注 ---
        document.addEventListener('DOMContentLoaded', function() {
            const mainContainer = document.getElementById('main-container');
            mainContainer.style.opacity = '0';
            let loadingProgress = 0;
            const progressBar = document.getElementById('loading-bar');
            const progressText = document.getElementById('loading-percentage');
            function updateLoadingProgress() {
                loadingProgress += Math.random() * 10 + 5;
                if (loadingProgress > 100) loadingProgress = 100;
                progressBar.style.width = loadingProgress + '%';
                progressText.textContent = Math.floor(loadingProgress) + '%';
                if (loadingProgress < 100) { setTimeout(updateLoadingProgress, 150 + Math.random() * 200); }
                else { setTimeout(hideLoadingScreen, 800); }
            }
            function hideLoadingScreen() {
                const loadingScreen = document.getElementById('loading-screen');
                loadingScreen.classList.add('fade-out');
                setTimeout(() => { 
                    loadingScreen.style.display = 'none'; 
                    mainContainer.style.opacity = '1';
                    mainContainer.style.animation = 'containerFadeIn 0.8s ease-out forwards';
                    switchScreen('instructions-screen'); 
                }, 1000);
            }
            setTimeout(updateLoadingProgress, 500);
        });
    </script>
</body>
</html>